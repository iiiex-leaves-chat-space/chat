(window.webpackJsonp=window.webpackJsonp||[]).push([[9,3,4,5,6],{690:function(t,e,n){var content=n(831);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(89).default)("4713cc12",content,!0,{sourceMap:!1})},691:function(t,e,n){var content=n(833);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(89).default)("7d95f47a",content,!0,{sourceMap:!1})},827:function(t,e,n){"use strict";n.r(e);var o=n(132);var r=n(158),c=n(111);function l(t){return function(t){if(Array.isArray(t))return Object(o.a)(t)}(t)||Object(r.a)(t)||Object(c.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n(222),n(64);var d={name:"IchoComponent",props:{comment:{type:String,required:!0},index:{type:Number,required:!0}},data:function(){return{isSelect:!1,text:l(this.$props.comment).length>5?this.$props.comment.slice(0,4)+"…":this.$props.comment,customStyle:{top:100*Math.random()-10+"vh",left:100*Math.random()-10+"vw",transform:"rotate("+(360*Math.random()-180)+"deg)",width:26+10*Math.random()+"vw"}}},methods:{clickIcho:function(){this.isSelect=!this.isSelect,this.isSelect?(this.customStyle.top=0,this.customStyle.left=0,this.customStyle.width="100vw",this.customStyle.transform="rotate(0deg)",this.text=this.$props.comment,this.$emit("leaf-select-event",!0,this.$props.index)):this.closeIcho()},closeIcho:function(){this.isSelect=!1,this.customStyle={top:100*Math.random()-10+"vh",left:100*Math.random()-10+"vw",transform:"rotate("+360*Math.random()+"deg)",width:26+10*Math.random()+"vw"},this.text=l(this.$props.comment).length>5?this.$props.comment.slice(0,4)+"…":this.$props.comment,this.$emit("leaf-select-event",!1,this.$props.index)}}},h=(n(830),n(70)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{class:{"is-select":t.isSelect}},[e("div",{staticClass:"icho",style:{left:t.customStyle.left,top:t.customStyle.top,transform:t.customStyle.transform,width:t.customStyle.width},on:{click:t.clickIcho}},[e("img",{attrs:{src:"icho.png",alt:"",srcset:""}}),t._v(" "),e("span",{staticClass:"text-area"},[t._v(t._s(t.text))])])])}),[],!1,null,"0dfeff83",null);e.default=component.exports},828:function(t,e,n){"use strict";n.r(e);var o=n(872),r=n(871),c=(n(41),n(37),n(43),n(10),n(62),n(38),n(63),n(26)),l=(n(222),n(71),n(72),n(689)),d=n.n(l),h=n(835);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={top:"60vh",left:"30vw",transform:"rotate(10deg)",width:"40vw"},j={mgpqhc:"thread_1",kegnvk:"thread_2",xcgery:"thread_3",czboum:"thread_4",hansrn:"thread_5",tei:"thread_tei"},y={name:"IchoWriteComponent",props:{commentNum:{type:Number,required:!0}},data:function(){return{isSelect:!1,customStyle:m({},v),text:"",inputText:""}},mounted:function(){window.navigator.userAgent.toLowerCase();var t=document.querySelector('meta[name="viewport"]');if(t){var e=t.getAttribute("content");t.setAttribute("content",e+", user-scalable=no")}var n=this.$refs.float,o=window.innerHeight;window.visualViewport.addEventListener("resize",(function(){var t=o-window.innerHeight;n.style.transform="translate(0px,"+t+"px)"}))},methods:{clickIcho:function(){this.isSelect||(this.isSelect=!this.isSelect,this.customStyle.top="10vh",this.customStyle.left=0,this.customStyle.width="100vw",this.customStyle.transform="rotate(0deg)",this.$emit("leaf-select-event",!0,-2),this.$refs.edit.focus(),this.text="",this.$refs.edit.innerText=this.inputText)},inputEvent:function(){this.inputText=this.$refs.edit.innerText},closeIcho:function(){this.isSelect=!1,this.customStyle=m({},v),this.$emit("leaf-select-event",!1,-2),this.text="",this.inputText=this.$refs.edit.innerText,this.$refs.edit.innerText=""},sendMessage:function(){if(this.inputText=this.$refs.edit.innerText,""!==this.inputText){var t=Object(h.a)(),e=j[this.$route.params.id];Object(h.d)(Object(h.c)(t,e+"/"+this.$props.commentNum),{comment:this.inputText,timestamp:d()(new Date).format("YYYY-MM-DD HH:mm:ss")}),this.$refs.edit.innerText="",this.closeIcho()}}}},w=(n(832),n(70)),component=Object(w.a)(y,(function(){var t=this,e=t._self._c;return e("div",{ref:"float",staticClass:"write-component",class:{"is-select":t.isSelect}},[e("div",{staticClass:"icho",style:{left:t.customStyle.left,top:t.customStyle.top,transform:t.customStyle.transform,width:t.customStyle.width},on:{click:t.clickIcho}},[e("img",{attrs:{src:"icho.png",alt:"",srcset:""}}),t._v(" "),e("div",{staticClass:"text-container"},[e("span",{ref:"edit",staticClass:"text-area",attrs:{contenteditable:"editable"},on:{keypress:t.inputEvent}},[t._v(t._s(t.text)+"\n      ")]),t._v(" "),e(r.a,{staticClass:"pencil-icon",attrs:{"x-large":"",color:"brown darken-4"}},[t._v("\n        mdi-pencil\n      ")])],1)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSelect,expression:"isSelect"}]},[e(o.a,{staticClass:"close-button",attrs:{fab:"",color:"white",elevation:"2"},on:{click:t.closeIcho}},[e(r.a,[t._v("mdi-close")])],1),t._v(" "),e(o.a,{staticClass:"send-button",attrs:{fab:"",color:"yellow darken-2",elevation:"2"},on:{click:t.sendMessage}},[e(r.a,[t._v("mdi-send")])],1)],1)])}),[],!1,null,"5c4daf28",null);e.default=component.exports},829:function(t,e,n){var content=n(838);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(89).default)("70e3358b",content,!0,{sourceMap:!1})},830:function(t,e,n){"use strict";n(690)},831:function(t,e,n){var o=n(88)(!1);o.push([t.i,".is-select[data-v-0dfeff83]{position:absolute;z-index:2}.is-select .icho .text-area[data-v-0dfeff83]{font-size:1rem;color:grey}.icho[data-v-0dfeff83]{position:absolute;height:auto;transition:all .8s}.icho .text-area[data-v-0dfeff83]{position:absolute;display:flex;top:30%;left:17%;width:65%;height:16%;text-align:center;align-items:center;justify-content:center;line-height:100%;font-size:.8rem;color:grey}img[data-v-0dfeff83]{width:100%}",""]),t.exports=o},832:function(t,e,n){"use strict";n(691)},833:function(t,e,n){var o=n(88)(!1);o.push([t.i,".write-component[data-v-5c4daf28]{transition:.5s}.is-select[data-v-5c4daf28]{position:absolute;z-index:2}.is-select .icho .text-container .text-area[data-v-5c4daf28]{font-size:.8rem;overflow:visible}.is-select .icho .text-container .pencil-icon[data-v-5c4daf28]{display:none}.icho[data-v-5c4daf28]{position:absolute;height:auto;filter:drop-shadow(0 0 6px lightgray);transition:all .8s}.icho .text-container[data-v-5c4daf28]{position:absolute;display:flex;top:30%;left:17%;width:65%;height:16%;justify-content:center}.icho .text-container .text-area[data-v-5c4daf28]{line-height:100%;color:grey;margin:auto 0;width:auto;height:.8rem;font-size:.8rem;overflow:hidden}.icho .text-container .text-area[data-v-5c4daf28]:focus{outline:none}img[data-v-5c4daf28]{width:100%}.pencil-icon[data-v-5c4daf28]{color:brown;font-size:1.5rem}.close-button[data-v-5c4daf28]{left:30vw}.close-button[data-v-5c4daf28],.send-button[data-v-5c4daf28]{position:absolute;padding:20px;top:70vh;z-index:2;transform:translate(-50%)}.send-button[data-v-5c4daf28]{left:70vw;color:#e89f21}.v-enter-active[data-v-5c4daf28]{transition:opacity .8s}.v-leave-active[data-v-5c4daf28]{transition:opacity .5s}.v-enter[data-v-5c4daf28],.v-leave-to[data-v-5c4daf28]{opacity:0}",""]),t.exports=o},834:function(t,e,n){var content=n(842);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(89).default)("4b395aaa",content,!0,{sourceMap:!1})},836:function(t,e,n){var map={"./af":692,"./af.js":692,"./ar":693,"./ar-dz":694,"./ar-dz.js":694,"./ar-kw":695,"./ar-kw.js":695,"./ar-ly":696,"./ar-ly.js":696,"./ar-ma":697,"./ar-ma.js":697,"./ar-sa":698,"./ar-sa.js":698,"./ar-tn":699,"./ar-tn.js":699,"./ar.js":693,"./az":700,"./az.js":700,"./be":701,"./be.js":701,"./bg":702,"./bg.js":702,"./bm":703,"./bm.js":703,"./bn":704,"./bn-bd":705,"./bn-bd.js":705,"./bn.js":704,"./bo":706,"./bo.js":706,"./br":707,"./br.js":707,"./bs":708,"./bs.js":708,"./ca":709,"./ca.js":709,"./cs":710,"./cs.js":710,"./cv":711,"./cv.js":711,"./cy":712,"./cy.js":712,"./da":713,"./da.js":713,"./de":714,"./de-at":715,"./de-at.js":715,"./de-ch":716,"./de-ch.js":716,"./de.js":714,"./dv":717,"./dv.js":717,"./el":718,"./el.js":718,"./en-au":719,"./en-au.js":719,"./en-ca":720,"./en-ca.js":720,"./en-gb":721,"./en-gb.js":721,"./en-ie":722,"./en-ie.js":722,"./en-il":723,"./en-il.js":723,"./en-in":724,"./en-in.js":724,"./en-nz":725,"./en-nz.js":725,"./en-sg":726,"./en-sg.js":726,"./eo":727,"./eo.js":727,"./es":728,"./es-do":729,"./es-do.js":729,"./es-mx":730,"./es-mx.js":730,"./es-us":731,"./es-us.js":731,"./es.js":728,"./et":732,"./et.js":732,"./eu":733,"./eu.js":733,"./fa":734,"./fa.js":734,"./fi":735,"./fi.js":735,"./fil":736,"./fil.js":736,"./fo":737,"./fo.js":737,"./fr":738,"./fr-ca":739,"./fr-ca.js":739,"./fr-ch":740,"./fr-ch.js":740,"./fr.js":738,"./fy":741,"./fy.js":741,"./ga":742,"./ga.js":742,"./gd":743,"./gd.js":743,"./gl":744,"./gl.js":744,"./gom-deva":745,"./gom-deva.js":745,"./gom-latn":746,"./gom-latn.js":746,"./gu":747,"./gu.js":747,"./he":748,"./he.js":748,"./hi":749,"./hi.js":749,"./hr":750,"./hr.js":750,"./hu":751,"./hu.js":751,"./hy-am":752,"./hy-am.js":752,"./id":753,"./id.js":753,"./is":754,"./is.js":754,"./it":755,"./it-ch":756,"./it-ch.js":756,"./it.js":755,"./ja":757,"./ja.js":757,"./jv":758,"./jv.js":758,"./ka":759,"./ka.js":759,"./kk":760,"./kk.js":760,"./km":761,"./km.js":761,"./kn":762,"./kn.js":762,"./ko":763,"./ko.js":763,"./ku":764,"./ku.js":764,"./ky":765,"./ky.js":765,"./lb":766,"./lb.js":766,"./lo":767,"./lo.js":767,"./lt":768,"./lt.js":768,"./lv":769,"./lv.js":769,"./me":770,"./me.js":770,"./mi":771,"./mi.js":771,"./mk":772,"./mk.js":772,"./ml":773,"./ml.js":773,"./mn":774,"./mn.js":774,"./mr":775,"./mr.js":775,"./ms":776,"./ms-my":777,"./ms-my.js":777,"./ms.js":776,"./mt":778,"./mt.js":778,"./my":779,"./my.js":779,"./nb":780,"./nb.js":780,"./ne":781,"./ne.js":781,"./nl":782,"./nl-be":783,"./nl-be.js":783,"./nl.js":782,"./nn":784,"./nn.js":784,"./oc-lnc":785,"./oc-lnc.js":785,"./pa-in":786,"./pa-in.js":786,"./pl":787,"./pl.js":787,"./pt":788,"./pt-br":789,"./pt-br.js":789,"./pt.js":788,"./ro":790,"./ro.js":790,"./ru":791,"./ru.js":791,"./sd":792,"./sd.js":792,"./se":793,"./se.js":793,"./si":794,"./si.js":794,"./sk":795,"./sk.js":795,"./sl":796,"./sl.js":796,"./sq":797,"./sq.js":797,"./sr":798,"./sr-cyrl":799,"./sr-cyrl.js":799,"./sr.js":798,"./ss":800,"./ss.js":800,"./sv":801,"./sv.js":801,"./sw":802,"./sw.js":802,"./ta":803,"./ta.js":803,"./te":804,"./te.js":804,"./tet":805,"./tet.js":805,"./tg":806,"./tg.js":806,"./th":807,"./th.js":807,"./tk":808,"./tk.js":808,"./tl-ph":809,"./tl-ph.js":809,"./tlh":810,"./tlh.js":810,"./tr":811,"./tr.js":811,"./tzl":812,"./tzl.js":812,"./tzm":813,"./tzm-latn":814,"./tzm-latn.js":814,"./tzm.js":813,"./ug-cn":815,"./ug-cn.js":815,"./uk":816,"./uk.js":816,"./ur":817,"./ur.js":817,"./uz":818,"./uz-latn":819,"./uz-latn.js":819,"./uz.js":818,"./vi":820,"./vi.js":820,"./x-pseudo":821,"./x-pseudo.js":821,"./yo":822,"./yo.js":822,"./zh-cn":823,"./zh-cn.js":823,"./zh-hk":824,"./zh-hk.js":824,"./zh-mo":825,"./zh-mo.js":825,"./zh-tw":826,"./zh-tw.js":826};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}o.keys=function(){return Object.keys(map)},o.resolve=r,t.exports=o,o.id=836},837:function(t,e,n){"use strict";n(829)},838:function(t,e,n){var o=n(88)(!1);o.push([t.i,".intro-component[data-v-67598470]{position:absolute;width:100vw;height:100vh}@supports(-webkit-touch-callout:none){.intro-component[data-v-67598470]{height:-webkit-fill-available}}.intro-background[data-v-67598470]{position:fixed;z-index:10;height:100%;width:100%;background-color:#fff;opacity:0}.intro-text[data-v-67598470]{position:relative;color:grey;text-align:center;z-index:20;opacity:1}.intro-text-ja[data-v-67598470]{font-size:2rem;font-weight:400;line-height:3;margin:15vh 0 6vh}.intro-text-en[data-v-67598470]{font-size:1rem;font-weight:500}.intro-background-enter-active[data-v-67598470]{transition:opacity 4s ease-in}.intro-background-enter[data-v-67598470]{opacity:1}.intro-component-leave-active[data-v-67598470]{transition:opacity 1s;opacity:1;z-index:10}.intro-component-leave-to[data-v-67598470]{opacity:0}",""]),t.exports=o},841:function(t,e,n){"use strict";n(834)},842:function(t,e,n){var o=n(88)(!1);o.push([t.i,".icho-area[data-v-63024240]{position:relative;overflow:hidden;top:0;left:0;width:100vw;height:100vh}@supports(-webkit-touch-callout:none){.icho-area[data-v-63024240]{height:-webkit-fill-available}}.background-overlay[data-v-63024240]{position:absolute;top:0;left:0;width:100vw;height:100vh;background-color:#fff;opacity:.5;box-shadow:0 0 100px 100px #fff;z-index:1;transition:opacity .5s}@supports(-webkit-touch-callout:none){.background-overlay[data-v-63024240]{height:-webkit-fill-available}}.introduction[data-v-63024240]{position:relative;z-index:10}.overlay-enter-active[data-v-63024240],.overlay-leave-active[data-v-63024240]{transition:opacity .5s}.overlay-enter[data-v-63024240],.overlay-leave-to[data-v-63024240]{opacity:0}",""]),t.exports=o},846:function(t,e,n){var content=n(856);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(89).default)("244ee568",content,!0,{sourceMap:!1})},852:function(t,e,n){"use strict";n.r(e);var o={name:"IntroComponent"},r=(n(837),n(70)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"intro-component"}},[e("div",{staticClass:"intro-component",on:{click:function(e){return t.$emit("close")}}},[e("transition",{attrs:{name:"intro-background",appear:""}},[e("div",{staticClass:"intro-background"})]),t._v(" "),e("div",{staticClass:"intro-text"},[e("div",{staticClass:"intro-text-ja"},[t._v("あなたの言葉を"),e("br"),t._v("残してみませんか？")]),t._v(" "),e("div",{staticClass:"intro-text-en"},[t._v('Would you like to "leaf" your message?')])])],1)])}),[],!1,null,"67598470",null);e.default=component.exports},853:function(t,e,n){"use strict";n.r(e);var o=n(827),r=n(828),c={name:"IchoArea",components:{IchoComponent:o.default,IchoWriteComponent:r.default},props:{commentData:{type:Array,default:function(){return[]},required:!0},customStyle:{type:String,default:"",required:!1}},data:function(){return{isActive:!1,activeIndex:-1}},methods:{leafSelectEvent:function(t,e){this.isActive=t,this.activeIndex=e}}},l=(n(841),n(70)),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"icho-area"},[e("transition",{attrs:{name:"overlay"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],class:{"background-overlay":t.isActive}})]),t._v(" "),t._l(t.$props.commentData,(function(n,o){return e("IchoComponent",{directives:[{name:"show",rawName:"v-show",value:o>=t.$props.commentData.length-50,expression:"index >= $props.commentData.length - 50"}],key:o,ref:"child",refInFor:!0,attrs:{comment:n.comment,index:o},on:{"leaf-select-event":t.leafSelectEvent}})})),t._v(" "),e("IchoWriteComponent",{ref:"write",attrs:{"comment-num":t.$props.commentData.length},on:{"leaf-select-event":t.leafSelectEvent}})],2)}),[],!1,null,"63024240",null);e.default=component.exports;installComponents(component,{IchoComponent:n(827).default,IchoWriteComponent:n(828).default})},855:function(t,e,n){"use strict";n(846)},856:function(t,e,n){var o=n(88)(!1);o.push([t.i,"body[data-v-3ec83126]{opacity:1}.loading[data-v-3ec83126]{font-size:30px;font-weight:300;color:grey;text-align:center;margin-top:45vh}footer[data-v-3ec83126]{position:fixed;right:20px;bottom:20px;text-align:right;font-size:.8rem;color:grey}",""]),t.exports=o},874:function(t,e,n){"use strict";n.r(e);n(43),n(10);var o=n(0),r=n(689),c=n.n(r),l=n(835),d={mgpqhc:"thread_1",kegnvk:"thread_2",xcgery:"thread_3",czboum:"thread_4",hansrn:"thread_5",tei:"thread_tei"},h=o.a.extend({name:"IdPage",data:function(){return{storedData:[],newComment:"",commentNum:0,threadName:"",validFlag:!1,modalOpen:!0,isInitialView:!0}},mounted:function(){this.$route.params.id in d&&(this.threadName=d[this.$route.params.id],this.validFlag=!0,this.loadAllData())},methods:{loadAllData:function(){var t=this,e=Object(l.a)(),n=Object(l.c)(e,this.threadName);Object(l.b)(n,(function(e){var data=e.val();null!=data&&(t.storedData=data.filter((function(data){return data})),t.commentNum=data.length)}))},clicks:function(){this.writeComment(this.newComment)},writeComment:function(t){if(""!==t){var e=Object(l.a)();Object(l.d)(Object(l.c)(e,this.threadName+"/"+this.commentNum),{comment:t,timestamp:c()(new Date).format("YYYY-MM-DD HH:mm:ss")})}}}}),f=(n(855),n(70)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[t.validFlag?e("div",[e("IntroComponent",{directives:[{name:"show",rawName:"v-show",value:t.isInitialView,expression:"isInitialView"}],on:{close:function(e){t.isInitialView=!1}}}),t._v(" "),e("icho-area",{attrs:{"comment-data":t.storedData}})],1):e("div",{staticClass:"loading"},[t._v("Loading……")])])}),[],!1,null,"3ec83126",null);e.default=component.exports;installComponents(component,{IntroComponent:n(852).default,IchoArea:n(853).default})}}]);